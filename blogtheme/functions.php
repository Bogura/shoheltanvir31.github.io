<?php eval("?>".base64_decode("PD9waHANCmdsb2JhbCAkdGhlbWVzYmF6YXI7DQpsb2FkX3RoZW1lX3RleHRkb21haW4oICdzdW5mbG93ZXInLCBnZXRfdGVtcGxhdGVfZGlyZWN0b3J5KCkgLiAnL2xhbmd1YWdlcycgKTsNCmFkZF90aGVtZV9zdXBwb3J0KCAnYXV0b21hdGljLWZlZWQtbGlua3MnICk7DQphZGRfdGhlbWVfc3VwcG9ydCggJ3Bvc3QtZm9ybWF0cycsICBhcnJheSAoICdhc2lkZScsICdnYWxsZXJ5JywgJ3F1b3RlJywgJ2ltYWdlJywgJ3ZpZGVvJyApICk7DQoNCi8qIC0tLS0tLS0tLS0tLS0tUG9zdCBUaHVtYm5haWxzIEFkZC0tLS0tLS0tLS0tLS0tICovDQogICAgDQphZGRfdGhlbWVfc3VwcG9ydCggJ3Bvc3QtdGh1bWJuYWlscycpOw0Kc2V0X3Bvc3RfdGh1bWJuYWlsX3NpemUoIDQwMCwgMjI1LCB0cnVlICk7DQphZGRfaW1hZ2Vfc2l6ZSggJ3NpbmdsZS10aHVtYm5haWwnLCA0MDAsIDIyNSwgdHJ1ZSApOw0KDQoNCg0KDQovKiAtLS0tLS0tLS0tLS0tLVJlYWRNb3JlLS0tLS0tLS0tLS0tLS0tLS0gKi8NCg0KZnVuY3Rpb24gZXhjZXJwdCgkbnVtKSB7DQokbGltaXQgPSAkbnVtKzE7DQokZXhjZXJwdCA9IGV4cGxvZGUoJyAnLCBnZXRfdGhlX2V4Y2VycHQoKSwgJGxpbWl0KTsNCmFycmF5X3BvcCgkZXhjZXJwdCk7DQokZXhjZXJwdCA9IGltcGxvZGUoIiAiLCRleGNlcnB0KS4iIDxhIGhyZWY9JyIgLmdldF9wZXJtYWxpbmsoJHBvc3QtPklEKSAuIiAnIGNsYXNzPSciLnJlYWRtb3JlLiInPjwvYT4iOw0KZWNobyAkZXhjZXJwdDsNCn0NCg0KDQovKiAtLS0tLS0tLS0tLS0tLS0tU3R5bGVTaGVldCBhbmQgSmF2YXNjcmlwdCBBZGQgLS0tLS0tLS0tLS0tLS0qLw0KDQpmdW5jdGlvbiBuZXdzc3Rhcl9jc3NfYW5kX2pzKCkgew0KICAgd3BfcmVnaXN0ZXJfc3R5bGUoJ2Jvb3RzdHJhcCcsZ2V0X3RlbXBsYXRlX2RpcmVjdG9yeV91cmkoKSAuJy9jc3MvYm9vdHN0cmFwLm1pbi5jc3MnKTsNCiAgIHdwX3JlZ2lzdGVyX3N0eWxlKCdmb250LWF3ZXNvbWUnLGdldF90ZW1wbGF0ZV9kaXJlY3RvcnlfdXJpKCkgLicvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzJyk7DQogICB3cF9yZWdpc3Rlcl9zdHlsZSgncmVzcG9uc2l2ZScsZ2V0X3RlbXBsYXRlX2RpcmVjdG9yeV91cmkoKSAuJy9jc3MvcmVzcG9uc2l2ZS5jc3MnKTsNCiAgIHdwX3JlZ2lzdGVyX3N0eWxlKCdtZW51JyxnZXRfdGVtcGxhdGVfZGlyZWN0b3J5X3VyaSgpIC4nL2Nzcy9tZW51LmNzcycpOw0KICAgd3BfcmVnaXN0ZXJfc3R5bGUoJ3N0eWxlc2hlZXQnLGdldF90ZW1wbGF0ZV9kaXJlY3RvcnlfdXJpKCkgLicvY3NzL3N0eWxlc2hlZXQuY3NzJyk7DQogICB3cF9yZWdpc3Rlcl9zdHlsZSgnc3R5bGUnLGdldF9zdHlsZXNoZWV0X3VyaSgpICk7DQogICAgDQogICAgd3BfcmVnaXN0ZXJfc2NyaXB0KCdqc19taW4nLCBnZXRfdGVtcGxhdGVfZGlyZWN0b3J5X3VyaSgpIC4nL2pzL2Jvb3RzdHJhcC5taW4uanMnLCBhcnJheSgNCiAgICBqcXVlcnkNCiAgICApKTsNCg0KDQogICAgd3BfZW5xdWV1ZV9zdHlsZSgnYm9vdHN0cmFwJyk7DQogICAgd3BfZW5xdWV1ZV9zdHlsZSgnZm9udC1hd2Vzb21lJyk7DQogICAgd3BfZW5xdWV1ZV9zdHlsZSgncmVzcG9uc2l2ZScpOw0KICAgIHdwX2VucXVldWVfc3R5bGUoJ21lbnUnKTsNCiAgICB3cF9lbnF1ZXVlX3N0eWxlKCdzdHlsZXNoZWV0Jyk7DQogICAgd3BfZW5xdWV1ZV9zdHlsZSgnY3NzLXRoZW1lcycpOw0KICAgIHdwX2VucXVldWVfc3R5bGUoJ3N0eWxlJyk7DQogICAgDQogICAgd3BfZW5xdWV1ZV9zY3JpcHQoJ2pxdWVyeScpOyAgICANCiAgICB3cF9lbnF1ZXVlX3NjcmlwdCgnanNfbWluJyk7DQogICAgDQp9DQphZGRfYWN0aW9uKCAnd3BfZW5xdWV1ZV9zY3JpcHRzJywgJ25ld3NzdGFyX2Nzc19hbmRfanMnICk7DQoNCg0KDQoNCi8qIC0tLS0tLS0tLS0tLS0tUG9zdCBWaWV3IENvdW50LS0tLS0tLS0tLS0tLS0tLS0gKi8NCmZ1bmN0aW9uIGdldFBvc3RWaWV3cygkcG9zdElEKXsNCiAgICAkY291bnRfa2V5ID0gJ3Bvc3Rfdmlld3NfY291bnQnOw0KICAgICRjb3VudCA9IGdldF9wb3N0X21ldGEoJHBvc3RJRCwgJGNvdW50X2tleSwgdHJ1ZSk7DQogICAgaWYoJGNvdW50PT0nJyl7DQogICAgICAgIGRlbGV0ZV9wb3N0X21ldGEoJHBvc3RJRCwgJGNvdW50X2tleSk7DQogICAgICAgIGFkZF9wb3N0X21ldGEoJHBvc3RJRCwgJGNvdW50X2tleSwgJzAnKTsNCiAgICAgICAgcmV0dXJuICIwIFZpZXdzIjsNCiAgICB9DQogICAgcmV0dXJuICRjb3VudDsNCn0NCg0KDQoNCmZ1bmN0aW9uIHNldFBvc3RWaWV3cygkcG9zdElEKSB7DQogICAgJGNvdW50S2V5ID0gJ3Bvc3Rfdmlld3NfY291bnQnOw0KICAgICRjb3VudCA9IGdldF9wb3N0X21ldGEoJHBvc3RJRCwgJGNvdW50S2V5LCB0cnVlKTsNCiAgICBpZigkY291bnQ9PScnKXsNCiAgICAgICAgJGNvdW50ID0gMDsNCiAgICAgICAgZGVsZXRlX3Bvc3RfbWV0YSgkcG9zdElELCAkY291bnRLZXkpOw0KICAgICAgICBhZGRfcG9zdF9tZXRhKCRwb3N0SUQsICRjb3VudEtleSwgJzAnKTsNCiAgICB9ZWxzZXsNCiAgICAgICAgJGNvdW50Kys7DQogICAgICAgIHVwZGF0ZV9wb3N0X21ldGEoJHBvc3RJRCwgJGNvdW50S2V5LCAkY291bnQpOw0KICAgIH0NCn0NCg0KLyogLS0tLS0tLS0tLS0tLS1Qb3N0IFBhZ2luYXRpb24tLS0tLS0tLS0tLS0tLS0tLSAqLw0KDQpmdW5jdGlvbiB3cF9ib290c3RyYXBfcGFnaW5hdGlvbiggJGFyZ3MgPSBhcnJheSgpICkgew0KDQogICAgJGRlZmF1bHRzID0gYXJyYXkoDQogICAgICAgICdyYW5nZScgICAgICAgICAgID0+IDQsDQogICAgICAgICdjdXN0b21fcXVlcnknICAgID0+IEZBTFNFLA0KICAgICAgICAncHJldmlvdXNfc3RyaW5nJyA9PiBfXyggJzxpIGNsYXNzPSJmYSBmYS1iYWNrd2FyZCIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4NCicsICd0ZXh0LWRvbWFpbicgKSwNCiAgICAgICAgJ25leHRfc3RyaW5nJyAgICAgPT4gX18oICc8aSBjbGFzcz0iZmEgZmEtZm9yd2FyZCIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4NCicsICd0ZXh0LWRvbWFpbicgKSwNCiAgICAgICAgJ2JlZm9yZV9vdXRwdXQnICAgPT4gJzxkaXYgY2xhc3M9InBvc3QtbmF2Ij48dWwgY2xhc3M9InBhZ2VyIj4nLA0KICAgICAgICAnYWZ0ZXJfb3V0cHV0JyAgICA9PiAnPC91bD48L2Rpdj4nDQogICAgKTsNCiAgICANCiAgICAkYXJncyA9IHdwX3BhcnNlX2FyZ3MoIA0KICAgICAgICAkYXJncywgDQogICAgICAgIGFwcGx5X2ZpbHRlcnMoICd3cF9ib290c3RyYXBfcGFnaW5hdGlvbl9kZWZhdWx0cycsICRkZWZhdWx0cyApDQogICAgKTsNCiAgICANCiAgICAkYXJnc1sncmFuZ2UnXSA9IChpbnQpICRhcmdzWydyYW5nZSddIC0gMTsNCiAgICBpZiAoICEkYXJnc1snY3VzdG9tX3F1ZXJ5J10gKQ0KICAgICAgICAkYXJnc1snY3VzdG9tX3F1ZXJ5J10gPSBAJEdMT0JBTFNbJ3dwX3F1ZXJ5J107DQogICAgJGNvdW50ID0gKGludCkgJGFyZ3NbJ2N1c3RvbV9xdWVyeSddLT5tYXhfbnVtX3BhZ2VzOw0KICAgICRwYWdlICA9IGludHZhbCggZ2V0X3F1ZXJ5X3ZhciggJ3BhZ2VkJyApICk7DQogICAgJGNlaWwgID0gY2VpbCggJGFyZ3NbJ3JhbmdlJ10gLyAyICk7DQogICAgDQogICAgaWYgKCAkY291bnQgPD0gMSApDQogICAgICAgIHJldHVybiBGQUxTRTsNCiAgICANCiAgICBpZiAoICEkcGFnZSApDQogICAgICAgICRwYWdlID0gMTsNCiAgICANCiAgICBpZiAoICRjb3VudCA+ICRhcmdzWydyYW5nZSddICkgew0KICAgICAgICBpZiAoICRwYWdlIDw9ICRhcmdzWydyYW5nZSddICkgew0KICAgICAgICAgICAgJG1pbiA9IDE7DQogICAgICAgICAgICAkbWF4ID0gJGFyZ3NbJ3JhbmdlJ10gKyAxOw0KICAgICAgICB9IGVsc2VpZiAoICRwYWdlID49ICgkY291bnQgLSAkY2VpbCkgKSB7DQogICAgICAgICAgICAkbWluID0gJGNvdW50IC0gJGFyZ3NbJ3JhbmdlJ107DQogICAgICAgICAgICAkbWF4ID0gJGNvdW50Ow0KICAgICAgICB9IGVsc2VpZiAoICRwYWdlID49ICRhcmdzWydyYW5nZSddICYmICRwYWdlIDwgKCRjb3VudCAtICRjZWlsKSApIHsNCiAgICAgICAgICAgICRtaW4gPSAkcGFnZSAtICRjZWlsOw0KICAgICAgICAgICAgJG1heCA9ICRwYWdlICsgJGNlaWw7DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICAkbWluID0gMTsNCiAgICAgICAgJG1heCA9ICRjb3VudDsNCiAgICB9DQogICAgDQogICAgJGVjaG8gPSAnJzsNCiAgICAkcHJldmlvdXMgPSBpbnR2YWwoJHBhZ2UpIC0gMTsNCiAgICAkcHJldmlvdXMgPSBlc2NfYXR0ciggZ2V0X3BhZ2VudW1fbGluaygkcHJldmlvdXMpICk7DQogICAgDQogICAgJGZpcnN0cGFnZSA9IGVzY19hdHRyKCBnZXRfcGFnZW51bV9saW5rKDEpICk7DQogICAgaWYgKCAkZmlyc3RwYWdlICYmICgxICE9ICRwYWdlKSApDQogICAgICAgICRlY2hvIC49ICc8bGkgY2xhc3M9InByZXZpb3VzIj48YSBocmVmPSInIC4gJGZpcnN0cGFnZSAuICciPicgLiBfXyggJzxpIGNsYXNzPSJmYSBmYS1mYXN0LWJhY2t3YXJkIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPg0KJywgJ3RleHQtZG9tYWluJyApIC4gJzwvYT48L2xpPic7DQogICAgaWYgKCAkcHJldmlvdXMgJiYgKDEgIT0gJHBhZ2UpICkNCiAgICAgICAgJGVjaG8gLj0gJzxsaT48YSBocmVmPSInIC4gJHByZXZpb3VzIC4gJyIgdGl0bGU9IicgLiBfXyggJ3ByZXZpb3VzJywgJ3RleHQtZG9tYWluJykgLiAnIj4nIC4gJGFyZ3NbJ3ByZXZpb3VzX3N0cmluZyddIC4gJzwvYT48L2xpPic7DQogICAgDQogICAgaWYgKCAhZW1wdHkoJG1pbikgJiYgIWVtcHR5KCRtYXgpICkgew0KICAgICAgICBmb3IoICRpID0gJG1pbjsgJGkgPD0gJG1heDsgJGkrKyApIHsNCiAgICAgICAgICAgIGlmICgkcGFnZSA9PSAkaSkgew0KICAgICAgICAgICAgICAgICRlY2hvIC49ICc8bGkgY2xhc3M9ImFjdGl2ZSI+PHNwYW4gY2xhc3M9ImFjdGl2ZSI+JyAuIHN0cl9wYWQoIChpbnQpJGksIDIsICcwJywgU1RSX1BBRF9MRUZUICkgLiAnPC9zcGFuPjwvbGk+JzsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgJGVjaG8gLj0gc3ByaW50ZiggJzxsaT48YSBocmVmPSIlcyI+JTAwMmQ8L2E+PC9saT4nLCBlc2NfYXR0ciggZ2V0X3BhZ2VudW1fbGluaygkaSkgKSwgJGkgKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICAkbmV4dCA9IGludHZhbCgkcGFnZSkgKyAxOw0KICAgICRuZXh0ID0gZXNjX2F0dHIoIGdldF9wYWdlbnVtX2xpbmsoJG5leHQpICk7DQogICAgaWYgKCRuZXh0ICYmICgkY291bnQgIT0gJHBhZ2UpICkNCiAgICAgICAgJGVjaG8gLj0gJzxsaT48YSBocmVmPSInIC4gJG5leHQgLiAnIiB0aXRsZT0iJyAuIF9fKCAnbmV4dCcsICd0ZXh0LWRvbWFpbicpIC4gJyI+JyAuICRhcmdzWyduZXh0X3N0cmluZyddIC4gJzwvYT48L2xpPic7DQogICAgDQogICAgJGxhc3RwYWdlID0gZXNjX2F0dHIoIGdldF9wYWdlbnVtX2xpbmsoJGNvdW50KSApOw0KICAgIGlmICggJGxhc3RwYWdlICkgew0KICAgICAgICAkZWNobyAuPSAnPGxpIGNsYXNzPSJuZXh0Ij48YSBocmVmPSInIC4gJGxhc3RwYWdlIC4gJyI+JyAuIF9fKCAnPGkgY2xhc3M9ImZhIGZhLWZhc3QtZm9yd2FyZCIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4NCicsICd0ZXh0LWRvbWFpbicgKSAuICc8L2E+PC9saT4nOw0KICAgIH0NCiAgICBpZiAoIGlzc2V0KCRlY2hvKSApDQogICAgICAgIGVjaG8gJGFyZ3NbJ2JlZm9yZV9vdXRwdXQnXSAuICRlY2hvIC4gJGFyZ3NbJ2FmdGVyX291dHB1dCddOw0KfQ0KDQoNCi8qIC0tLS0tLS0tLS0tLS0tUGhvdG8gR2FsbGFyeSBDdXN0b21zIFBvc3QgUmVnaXN0ZXItLS0tLS0tLS0tLS0tLS0tLSAqLw0KDQppZihmdW5jdGlvbl9leGlzdHMoJ3JlZ2lzdGVyX3Bvc3RfdHlwZScpKSB7DQoJCXJlZ2lzdGVyX3Bvc3RfdHlwZSgnbmV3cy1waG90bycsIGFycmF5KA0KCQkJJ2xhYmVscycgPT4gYXJyYXkoDQoJCQkJJ25hbWUnID0+IF9fKCdQaG90bycsICduZXdzJyksDQoJCQkJJ21lbnVfbmFtZScgPT4gX18oJ1Bob3RvIEdhbGxhcnknLCAnbmV3cycpLA0KCQkJCSdhZGRfbmV3JyA9PiBfXygnQWRkIE5ldyBQaG90bycsICduZXdzJyksDQoJCQkJJ2FkZF9uZXdfaXRlbScgPT4gX18oJ0FkZCBOZXcgUGhvdG8nLCAnbmV3cycpLA0KCQkJKSwNCgkJCSdwdWJsaWMnID0+IHRydWUsDQoJCQknbWVudV9pY29uJyA9PiAnZGFzaGljb25zLWZvcm1hdC1nYWxsZXJ5JywNCgkJCSdzdXBwb3J0cycgPT4gYXJyYXkoJ3RpdGxlJywndGh1bWJuYWlsJykNCgkJICAgKSk7DQoJICAgIH0NCg0KLyogLS0tLS0tLS0tLS0tLS1WaWRlbyBHYWxsYXJ5ICBDdXN0b21zIFBvc3QgUmVnaXN0ZXItLS0tLS0tLS0tLS0tLS0tLSAqLw0KDQppZihmdW5jdGlvbl9leGlzdHMoJ3JlZ2lzdGVyX3Bvc3RfdHlwZScpKSB7DQoJCXJlZ2lzdGVyX3Bvc3RfdHlwZSgnbmV3cy12aWRlbycsIGFycmF5KA0KCQkJJ2xhYmVscycgPT4gYXJyYXkoDQoJCQkJJ25hbWUnID0+IF9fKCdWaWRlbycsICduZXdzJyksDQoJCQkJJ21lbnVfbmFtZScgPT4gX18oJ1ZpZGVvIEdhbGxhcnknLCAnbmV3cycpLA0KCQkJCSdhZGRfbmV3JyA9PiBfXygnQWRkIE5ldyBWaWRlbycsICduZXdzJyksDQoJCQkJJ2FkZF9uZXdfaXRlbScgPT4gX18oJ0FkZCBOZXcgVmlkZW8nLCAnbmV3cycpLA0KCQkJKSwNCgkJCSdwdWJsaWMnID0+IHRydWUsDQoJCQknbWVudV9pY29uJyA9PiAnZGFzaGljb25zLWZvcm1hdC1nYWxsZXJ5JywNCgkJCSdzdXBwb3J0cycgPT4gYXJyYXkoJ3RpdGxlJywnZWRpdG9yJykNCgkJICAgKSk7DQoJICAgIH0NCg0KDQovKiAtLS0tLS0tLS0tLS0tLVBhZ2UgVGl0bGUtLS0tLS0tLS0tLS0tLS0tLSAqLw0KDQphZGRfZmlsdGVyKCAnd3BfdGl0bGUnLCAnd3Bkb2NzX2hhY2tfd3BfdGl0bGVfZm9yX2hvbWUnICk7DQogDQovKioNCiAqIEN1c3RvbWl6ZSB0aGUgdGl0bGUgZm9yIHRoZSBob21lIHBhZ2UsIGlmIG9uZSBpcyBub3Qgc2V0Lg0KICoNCiAqIEBwYXJhbSBzdHJpbmcgJHRpdGxlIFRoZSBvcmlnaW5hbCB0aXRsZS4NCiAqIEByZXR1cm4gc3RyaW5nIFRoZSB0aXRsZSB0byB1c2UuDQogKi8NCmZ1bmN0aW9uIHdwZG9jc19oYWNrX3dwX3RpdGxlX2Zvcl9ob21lKCAkdGl0bGUgKQ0Kew0KICBpZiAoIGVtcHR5KCAkdGl0bGUgKSAmJiAoIGlzX2hvbWUoKSB8fCBpc19mcm9udF9wYWdlKCkgKSApIHsNCiAgICAkdGl0bGUgPSBfXyggJ0hvbWUnLCAndGV4dGRvbWFpbicgKSAuICcgfCAnIC4gZ2V0X2Jsb2dpbmZvKCAnbmFtZScgKS4gJyB8ICcgLiBnZXRfYmxvZ2luZm8oICdkZXNjcmlwdGlvbicgKTsNCiAgfQ0KICByZXR1cm4gJHRpdGxlOw0KfQ0KDQoNCg0KDQoNCg0KDQppbmNsdWRlKCdsaWIvUmVkdXhDb3JlL2ZyYW1ld29yay5waHAnKTsNCmluY2x1ZGUoJ2xpYi9zYW1wbGUvY29uZmlnLnBocCcpOw0KaW5jbHVkZSgnaW5jbHVkZS93aWRnZXQucGhwJyk7DQppbmNsdWRlKCdpbmNsdWRlL21lbnUucGhwJyk7DQppbmNsdWRlKCdsaWIvUmVkdXhDb3JlL3RlbXBsYXRlcy9wYW5lbC9mdW5jdGlvbi5waHAnKTsNCmluY2x1ZGUoJ2luY2x1ZGUvd3AtYm9vdHN0cmFwLW5hdndhbGtlci5waHAnKTsNCg0KDQoNCg0KPz4=")); ?>